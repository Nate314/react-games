(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(7),i=a.n(r),s=(a(15),a(8)),c=a(2),l=a(4),u=a(3),d=a(5),h=a(1),v=(a(16),0),k=function(e,t){return e[0]===t[0]&&e[1]===t[1]},m=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).snakeHeadColor="blue",a.snakeBodyColor="green",a.foodColor="red",a.boardColor="black",a.props=void 0,a.props=e,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=Array(20).fill(null).map(function(t,a){return Array(30).fill(null).map(function(t,n){var o;return e.props.snakeBody.forEach(function(t){k(t,[a,n])&&(o=e.snakeBodyColor)}),k(e.props.food,[a,n])?o=e.foodColor:k(e.props.snakeHead,[a,n])?o=e.snakeHeadColor:o||(o=e.boardColor),o})});k(this.props.snakeHead,this.props.food)&&this.props.onEat();var a=Math.floor((window.innerWidth-100)/30),n=Math.floor((window.innerHeight-100)/20);return v=Math.min(a,n),o.a.createElement("div",null,Array(20).fill(null).map(function(e,a){return o.a.createElement("div",{className:"board-row",key:"row-".concat(a)},Array(30).fill(null).map(function(e,n){return o.a.createElement("div",{className:"square",key:"square-".concat(a,"-").concat(n),style:{backgroundColor:t[a][n],width:"".concat(v,"px"),height:"".concat(v,"px")}})}))}))}}]),t}(o.a.Component),f=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props=void 0,a.props=e,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square",style:{width:"".concat(15*v,"px")}},"Score: ",this.props.score),o.a.createElement("div",{className:"square",style:{width:"".concat(15*v,"px")}},this.props.paused?o.a.createElement("div",{style:{color:"green"}},o.a.createElement("b",null,"Paused")):this.props.gameover?o.a.createElement("div",{style:{color:"red"}},o.a.createElement("b",null,"Game Over")):"High Score: ".concat(this.props.highscore))),o.a.createElement("div",{className:"board-row"},o.a.createElement("div",{className:"square",style:{width:"".concat(30*v,"px")}},"(r) Reset | (WASD, Arrow Keys) move snake | (esc) Escape")))}}]),t}(o.a.Component),p=function e(){Object(h.a)(this,e),this.paused=!1,this.gameover=!1,this.score=0,this.snakeDirection=">",this.snakeHeadPosition=[10,3],this.snakeBody=[],this.foodPosition=[10,15],this.snakeLength=1,this.gameTickInterval=110},g=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).gameTickDelta=0,a.snakeLengthDelta=3,a.scoreDelta=5,a.currentDirection=void 0,a.interval=void 0,a.state=void 0,a.keyDown=function(e){a.setState(function(t){var n=e.key;return t.snakeDirection=["^","v"].includes(a.currentDirection)?["<",">"].includes(a.currentDirection)?a.currentDirection:"ArrowLeft"===n||"A"===n||"a"===n?"<":"ArrowRight"===n||"D"===n||"d"===n?">":a.currentDirection:"ArrowUp"===n||"W"===n||"w"===n?"^":"ArrowDown"===n||"S"===n||"s"===n?"v":a.currentDirection,"Escape"===n&&(t.paused=!t.paused),["r","R"].includes(n)&&(clearInterval(a.interval),t=new p,a.interval=setInterval(function(){return a.gameTick()},t.gameTickInterval)),t})};var n=new p;return a.state=n,a.currentDirection=a.state.snakeDirection,a.setState(n),a.interval=setInterval(function(){return a.gameTick()},a.state.gameTickInterval),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"gameTick",value:function(){var e=this;this.setState(function(t){if(!t.paused&&!t.gameover){var a=t.snakeDirection;e.currentDirection=a;var n=Object(s.a)(t.snakeHeadPosition,2),o=n[0],r=n[1];if(t.snakeBody.push([o,r]),r="<"===a?r-1:">"===a?r+1:r,(o="^"===a?o-1:"v"===a?o+1:o)<0||o>19||r<0||r>29?t.gameover=!0:(t.snakeHeadPosition=[o,r],t.snakeBody=Array(t.snakeBody.length).fill([-1,-1]).concat(t.snakeBody),t.snakeBody=t.snakeBody.slice(t.snakeBody.length-t.snakeLength),t.snakeBody.forEach(function(e,a){k(e,t.snakeHeadPosition)&&(t.gameover=!0)})),t.gameover){var i=localStorage.getItem("nate314.snake.highScore"),c=!0;i&&Number(i)>t.score&&(c=!1),c&&localStorage.setItem("nate314.snake.highScore",JSON.stringify(t.score))}}return t})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyDown)}},{key:"eatFood",value:function(){var e=this;this.setState(function(t){for(;;){t.foodPosition=[Math.floor(20*Math.random()),Math.floor(30*Math.random())];var a=!1;if(t.snakeBody.forEach(function(e){k(t.foodPosition,e)&&(a=!0)}),!a)break}return t.snakeLength+=e.snakeLengthDelta,t.score+=e.scoreDelta,t.gameTickInterval-=e.gameTickDelta,clearInterval(e.interval),e.interval=setInterval(function(){return e.gameTick()},t.gameTickInterval),t})}},{key:"render",value:function(){var e=this,t=Number(localStorage.getItem("nate314.snake.highScore"));return t=isNaN(t)?0:t,o.a.createElement("div",null,o.a.createElement(m,{snakeBody:this.state.snakeBody,snakeHead:this.state.snakeHeadPosition,food:this.state.foodPosition,onEat:function(){return e.eatFood()}}),o.a.createElement(f,{score:this.state.score,highscore:t,paused:this.state.paused,gameover:this.state.gameover}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.00366ca3.chunk.js.map